#!/usr/bin/env node
const path = require('path');
const { interpret } = require('..');

const file = process.argv[2];

const { readFileSync } = require('fs');

const contents = readFileSync(file, 'utf8').replace(/^#!.*$/m,'');

const context = {
  require,
  module,
  process,
  console,
  ...global,
}

module.path = path.dirname(file);
module.filename = file;

console.log(interpret(contents, context));

